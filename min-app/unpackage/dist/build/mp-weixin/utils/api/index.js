"use strict";const e=require("../../common/vendor.js");let t=(t,r,a=null)=>new Promise(((s,n)=>{let d="https://www.yuyandental.com"+t;e.wx$1.request({url:d,data:r,method:"POST",header:{"content-type":"application/json",Token:null!=a?a():null},success(t){200==t.data.code?s(t.data.data):(console.log(t.data.code),203==t.data.code?(o(),n()):e.index.showToast({icon:"none",title:t.data.msg,duration:2e3}))},fail(e){n(e)}})}));const o=()=>{let t=e.index.getStorageSync("yy-token")?"登录失效，请重新登录":"你当前未登录，请登录后尝试";e.index.removeStorageSync("yy-token"),e.index.removeStorageSync("yy-userinfo");var o=getCurrentPages();if("pages/user/index"==o[o.length-1].route)return!1;e.index.showToast({title:t,icon:"none",duration:2e3}),setTimeout((()=>{e.wx$1.reLaunch({url:"/pages/user/index"})}),2e3)};let r=(t,r,a=null)=>new Promise(((s,n)=>{let d="https://www.yuyandental.com"+t;e.wx$1.request({url:d,data:r,method:"GET",header:{Token:null!=a?a():null},success(t){200==t.data.code?s(t.data.data):203==t.data.code?(o(),n()):e.index.showToast({icon:"none",title:t.data.msg,duration:2e3})},fail(e){n(e)}})}));function a(){return e.index.getStorageSync("yy-token")}exports.AboutDesc=()=>r("/api/common/desc",null,null),exports.AboutUs=()=>r("/api/common/about",null,null),exports.CancelBookingPlans=e=>t("/api/booking_order/cancel",e,a),exports.CancelOrder=e=>t("/api/order/cancel",e,a),exports.CreateAddress=e=>t("/api/user/address/add",e,a),exports.CreateBookingPlans=e=>t("/api/booking_order/createKpBooking",e,a),exports.CreateOrder=e=>t("/api/order/create",e,a),exports.CreateWxPay=e=>t("/api/order/pay",e,a),exports.EditAddress=e=>t("/api/user/address/edit",e,a),exports.EditUserInfo=e=>t("/api/user/edit",e,a),exports.GetAddressList=()=>r("/api/user/address/lists",null,a),exports.GetCalculate=e=>r("/api/order/calculate",e,a),exports.GetCateList=e=>r("/api/goods_category/lists",e,a),exports.GetGoodsInfo=e=>r("/api/goods/detail",e,a),exports.GetGoodsList=e=>r("/api/goods/lists",e,a),exports.GetIndexBanner=e=>r("/api/common/banner",e,null),exports.GetOrderInfo=e=>r("/api/order/detail",e,a),exports.GetOrderList=e=>r("/api/order/lists",e,a),exports.GetServerUserInfo=e=>r("/api/user/getUser",e,a),exports.GetUserInfo=e=>t("/api/user/wechat",e),exports.GetUserPhone=e=>t("/api/user/phone",e,a),exports.RmAddress=e=>t("/api/user/address/delete",e,a),exports.booking_order_detail=e=>r("/api/booking_order/detail",e,a),exports.booking_plans_detail=e=>r("/api/booking_plan/detail",e,a);
