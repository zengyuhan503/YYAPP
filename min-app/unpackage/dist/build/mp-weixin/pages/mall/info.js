"use strict";const e=require("../../common/vendor.js"),r=require("../../utils/api/index.js");if(!Array){(e.resolveComponent("uni-nav-bar")+e.resolveComponent("uni-swiper-dot"))()}Math||((()=>"../../uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.js")+(()=>"../../uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot.js"))();const n={__name:"info",setup(n){let t=e.ref(null),o=e.ref({});e.ref("default");let a=e.ref({top:"46px"}),u=e.ref(0),i=e.ref({backgroundColor:"rgba(255,255,255,0.5);",border:"2px rgba(255,255,255,0.5); solid",color:"#fff",selectedBackgroundColor:"#F9A143",selectedBorder:"2px #F9A143 solid"}),l=e.ref(0);e.onLoad((e=>{t.value=e.id,console.log(t.value),p()}));const s=()=>{e.index.navigateBack({delta:1})};let f=e.ref([]);const c=e=>{let r=e.detail.current;u.value=r},p=()=>{let e={goods_id:t.value};r.GetGoodsInfo(e).then((e=>{o.value=e;let r=[e.head_image],n=e.deputy_image;n=""===n?[]:n.split(","),r.push(...n),f.value=r}))};let d={0:[],2:[],4:[],all:[]};const g=()=>{if(0!=d[0].length)return e.index.showToast({title:"你当前还有待付款订单，请前往个人中心查看",duration:2e3,icon:"none"}),!1;e.index.navigateTo({url:"/pages/mall/purchase?id="+o.value.id})};return e.onShow((n=>{const t=e.wx$1.getMenuButtonBoundingClientRect();l.value=t.height,a.value.top=t.top+"px",r.GetOrderList({page:1,page_size:1e3,status:"all"}).then((e=>{console.log(e);let r=e.data;d[0]=r.filter((e=>0==e.status)),d[2]=r.filter((e=>2==e.status)),d.all=r}))})),(r,n)=>e.e({a:e.o(s),b:e.p({"left-icon":"left",border:!1,backgroundColor:"transparent",title:"",height:e.unref(l),color:"#ffffff"}),c:e.s(e.unref(a)),d:e.f(e.unref(f),((e,r,n)=>({a:"https://www.yuyandental.com/"+e,b:r}))),e:e.o(c),f:e.p({info:e.unref(f),current:e.unref(u),"dots-styles":e.unref(i),mode:"round",field:"content"}),g:e.unref(o).sale_price!=e.unref(o).price},e.unref(o).sale_price!=e.unref(o).price?{h:e.t(e.unref(o).sale_price),i:e.t(e.unref(o).price)}:{j:e.t(e.unref(o).sale_price)},{k:e.unref(o).sale_price!=e.unref(o).price},e.unref(o).sale_price!=e.unref(o).price?{l:e.t(e.unref(o).price-e.unref(o).sale_price)}:{},{m:e.t(e.unref(o).title),n:e.t(e.unref(o).desc),o:"https://www.yuyandental.com/"+e.unref(o).detail_image,p:e.unref(o).sale_price!=e.unref(o).price},(e.unref(o).sale_price,e.unref(o).price,{}),{q:e.t(e.unref(o).sale_price),r:e.o(g)})}},t=e._export_sfc(n,[["__scopeId","data-v-556be36f"]]);wx.createPage(t);
