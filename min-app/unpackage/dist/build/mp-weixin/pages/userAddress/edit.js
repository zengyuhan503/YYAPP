"use strict";const e=require("../../common/vendor.js"),s=require("../../utils/api/index.js"),a={__name:"edit",setup(a){e.ref(!1);let l=e.ref({name:"",phone:"",provinces:"",address:"",is_default:""});const o=e=>{console.log(e);let s=e.detail.value;l.value.provinces=s.join("-"),console.log(l.value)},n=()=>{l.value.is_default=!l.value.is_default},u=()=>{let a={...l.value,is_default:1==l.value.is_default?1:0,address_id:d};if(Object.values(a).includes(""))return e.index.showToast({title:"格式不正确",icon:"error"}),!1;s.EditAddress(a).then((s=>{e.index.showToast({title:"添加成功",icon:"success",duration:2e3,success(){e.wx$1.redirectTo({url:"/pages/userAddress/index"})}})})),console.log(a)};let d=null;return e.onLoad((e=>{l.value.address=e.address,l.value.phone=e.phone,l.value.name=e.name,l.value.provinces=e.provinces,l.value.is_default="1"==e.is_default,d=e.id,console.log(e)})),(s,a)=>({a:e.unref(l).is_default,b:e.o(n),c:e.unref(l).name,d:e.o((s=>e.unref(l).name=s.detail.value)),e:e.unref(l).phone,f:e.o((s=>e.unref(l).phone=s.detail.value)),g:e.unref(l).provinces,h:e.o(o),i:e.unref(l).address,j:e.o((s=>e.unref(l).address=s.detail.value)),k:e.o(u)})}},l=e._export_sfc(a,[["__scopeId","data-v-641b77fb"]]);wx.createPage(l);
