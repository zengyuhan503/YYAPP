"use strict";const e=require("../../common/vendor.js"),s=require("../../utils/api/index.js"),o={__name:"add",setup(o){e.ref(!1);let n=e.ref({name:"",phone:"",provinces:"",address:"",is_default:!0});const a=e=>{console.log(e);let s=e.detail.value;n.value.provinces=s.join("-"),console.log(n.value)},t=()=>{n.value.is_default=!n.value.is_default},u=()=>{let o={...n.value,is_default:n.value.is_default?1:0};if(Object.values(o).includes(""))return e.index.showToast({title:"格式不正确",icon:"error"}),!1;s.CreateAddress(o).then((s=>{e.index.showToast({title:"添加成功",icon:"success",duration:2e3,success(){setTimeout((()=>{e.wx$1.redirectTo({url:"/pages/userAddress/index"})}),2e3)}})})),console.log(o)};return e.onMounted((()=>{let s=e.index.getStorageSync("yy-phone");s&&(n.value.phone=s)})),(s,o)=>({a:e.unref(n).is_default,b:e.o(t),c:e.unref(n).name,d:e.o((s=>e.unref(n).name=s.detail.value)),e:e.unref(n).phone,f:e.o((s=>e.unref(n).phone=s.detail.value)),g:e.unref(n).provinces,h:e.o(a),i:e.unref(n).address,j:e.o((s=>e.unref(n).address=s.detail.value)),k:e.o(u)})}},n=e._export_sfc(o,[["__scopeId","data-v-d4040d2d"]]);wx.createPage(n);
